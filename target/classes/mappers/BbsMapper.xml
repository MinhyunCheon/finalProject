<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="bbs">
 	<select id="selectBbsAll" resultType="bbs_vo">
 		SELECT
 			SEQ
 			, SUBJECT
 			, CONTENT
 			, WRITER
 			, TO_CHAR(REGDATE, 'YYYY-MM-DD') REGDATE
 			, VIEWCNT
 			FROM BBS_TBL
 			ORDER BY SEQ DESC
 	</select>
 	<insert id="insertBbs" parameterType="bbs_dto">
 		INSERT INTO BBS_TBL VALUES(
 			BBS_SEQ.NEXTVAL
 			, #{subject}
 			, #{content}
 			, #{writer}
 			, SYSDATE
 			, 0
 		)
 	</insert>
 	<update id="updateBbsViewCnt" parameterType="bbs_vo">
 		UPDATE BBS_TBL SET VIEWCNT = VIEWCNT + 1 WHERE SEQ = #{seq}
 	</update>
</mapper>